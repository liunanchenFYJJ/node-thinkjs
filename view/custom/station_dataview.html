<!-- <link rel="stylesheet" href="/static/ztree/zTreeStyle.css">
<script src="/static/ztree/jquery-1.4.4.min.js"></script>
<script src="/static/ztree/jquery.ztree.core.js"></script> -->
<div id="container" class="layui-row">
    <blockquote class="layui-elem-quote">
        数据视图-实时显示监测点数据
    </blockquote>
    <div class="layui-row">
        <div class="layui-col-md9">
            <div id="chartMap"></div>
            <blockquote>数据项列表</blockquote>
            <table id="demo" lay-filter="test"></table>
        </div>
        <div class="layui-col-md3">
            <fieldset class="layui-elem-field">
                <legend><h4>监测点列表</h4></legend>
                <div class="layui-field-box" style="min-height: 200px">
                    <ul id="treeDemo" class="ztree"></ul>
                </div>
            </fieldset>
            <fieldset class="layui-elem-field">
                <legend><h4>历史收藏</h4></legend>
                <div class="layui-field-box" style="min-height: 200px">
                    
                </div>
            </fieldset>
        </div>
    </div>
</div>
<style>

</style>
<!-- <script src="../../www/static/ztree/jquery.ztree.core.js"></script>   -->
<script>
    (function(){
        layui.use(['table'], function(){
            var table = layui.table;
            // var $ = layui.$;
              //第一个实例
            table.render({
                elem: '#demo'
                ,height: 315
                ,url: '/demo/table/user/' //数据接口
                ,page: true //开启分页
                ,cols: [[ //表头
                {field: 'id', title: 'ID', width:80, sort: true, fixed: 'left'}
                ,{field: 'username', title: '用户名', width:80}
                ,{field: 'sex', title: '性别', width:80, sort: true}
                ,{field: 'city', title: '城市', width:80} 
                ,{field: 'sign', title: '签名', width: 177}
                ,{field: 'experience', title: '积分', width: 80, sort: true}
                ,{field: 'score', title: '评分', width: 80, sort: true}
                ,{field: 'classify', title: '职业', width: 80}
                ,{field: 'wealth', title: '财富', width: 135, sort: true}
                ]]
            });


        });
            // ztree
            // ztree 写在layui外面，引入jquery文件冲突？
            var setting = {
                data: {
                    key: {title: "t"},
                    simpleData: {enable: true}
                },
                callback: {
                    onClick: onClick
                },
                view: {
                    showIcon: showIconForTree
                }
            }
            var zNode = [
                { id:1, pId:0, name:"普通的父节点", t:"我很普通，随便点我吧", open:true},
                { id:11, pId:1, name:"叶子节点 - 1", t:"我很普通，随便点我吧"},
                { id:12, pId:1, name:"叶子节点 - 2", t:"我很普通，随便点我吧"},
                { id:13, pId:1, name:"叶子节点 - 3", t:"我很普通，随便点我吧"},
                { id:2, pId:0, name:"NB的父节点", t:"点我可以，但是不能点我的子节点，有本事点一个你试试看？", open:true},
                { id:21, pId:2, name:"叶子节点2 - 1", t:"你哪个单位的？敢随便点我？小心点儿..", click:false},
                { id:22, pId:2, name:"叶子节点2 - 2", t:"我有老爸罩着呢，点击我的小心点儿..", click:false},
                { id:23, pId:2, name:"叶子节点2 - 3", t:"好歹我也是个领导，别普通群众就来点击我..", click:false},
                { id:3, pId:0, name:"郁闷的父节点", t:"别点我，我好害怕...我的子节点随便点吧...", open:true, click:false },
                { id:31, pId:3, name:"叶子节点3 - 1", t:"唉，随便点我吧"},
                { id:32, pId:3, name:"叶子节点3 - 2", t:"唉，随便点我吧"},
                { id:33, pId:3, name:"叶子节点3 - 3", t:"唉，随便点我吧"}
            ]
            function onClick(event, treeId, treeNode) {
                console.log(event);
                console.log(treeId);
                console.log(treeNode);
            }
            function showIconForTree(treeId, treeNode) {
                return !treeNode.isParent;
            }
            $(function(){
                console.log('adjflajdsfjak')
                $.fn.zTree.init($("#treeDemo"), setting, zNode);                
            })
        
    }())
</script>