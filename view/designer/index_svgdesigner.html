<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>视图设计器</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <link rel="shortcut icon" href="/static/img/hz.ico" type="image/x-icon" />

    <!--<link rel="stylesheet" href="static/flex/flexgrid.css" media="all">-->

    <link rel="stylesheet" href="../../static/flexgrid/flexboxgrid.css" media="all">

    <link rel="stylesheet" href="../../static/css/font-awesome.css" media="all">

    <link rel="stylesheet" href="../../static/layui2/css/layui.css" media="all">
    <!--<link rel="stylesheet" href="static/css/global.css" media="all">
  <link rel="stylesheet" href="static/css/app.css" media="all">-->

    <link rel="stylesheet" href="../../static/drawio/grapheditor.css">

    <script type="text/javascript" src="../../static/js/in-min.js" autoload="true"></script>
    <script type="text/javascript" src="../../static/layui2/layui.js"></script>
    <!--[if lte IE 7]>
      <link href='static/flex/flexgrid-ie.css' rel='stylesheet' />
    <![endif]-->
    <script src='../../static/flex/modernizr.js'></script>

    <link rel="stylesheet" href="../../static/svg/plugs/svg.select.css">
    <link rel="stylesheet" href="../../static/svg/dragula.css">

    <script src="../../static/svg/svg.js"></script>
    <script src="../../static/svg/plugs/svg.panzoom.js"></script>
    <script src="../../static/svg/plugs/svg.draggable.js"></script>
    <script src="../../static/svg/plugs/svg.select.js"></script>
    <script src="../../static/svg/plugs/svg.resize.js"></script>
    <script src="../../static/svg/plugs/svg.draw.js"></script>
    <script src="../../static/svg/dragula.js"></script>

    <style>
     #drawing{
        position: absolute; border-width: 1px; overflow: hidden; 
        left: 20px; 
        top: 20px; 
        width: 1920px; 
        height: 1168px;
         border-color: rgb(202, 202, 202); 
         border-style: solid; 
         background-color: rgb(255, 255, 255); 
         background: url(../../static/img/grid.png) #fff;
         /* background-image: url(&quot;data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAwIDEwIEwgNDAgMTAgTSAxMCAwIEwgMTAgNDAgTSAwIDIwIEwgNDAgMjAgTSAyMCAwIEwgMjAgNDAgTSAwIDMwIEwgNDAgMzAgTSAzMCAwIEwgMzAgNDAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2UwZTBlMCIgb3BhY2l0eT0iMC4yIiBzdHJva2Utd2lkdGg9IjEiLz48cGF0aCBkPSJNIDQwIDAgTCAwIDAgMCA0MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjZ3JpZCkiLz48L3N2Zz4=&quot;); background-position: -1px -1px; */
     }
    </style>
<!-- <script src="https://unpkg.com/draggabilly@2/dist/draggabilly.pkgd.min.js"></script> -->


    
</head>

<body class="geEditor">
    <div class="geSidebarContainer" id="left" style="left: 0px; top: 95px; width: 208px; bottom: 2px">
       <ul class="tools">
           <li><a href="javascript:void(0);" class="draggable" style="overflow: hidden; width: 40px; height: 40px; padding: 1px;"><svg style="width: 36px; height: 36px; display: block; position: relative; overflow: hidden; cursor: move; left: 2px; top: 2px;"><g><g></g><g><g transform="translate(0.5,0.5)" style="visibility: visible;"><rect x="2" y="10" width="31" height="16" fill="#ffffff" stroke="#000000" pointer-events="all"></rect></g></g><g></g><g></g></g></svg></a></li>
       </ul>
    </div>
    <div class="geToolbarContainer" style="left: 0px; right: 0px; top: 60px; height: 34px;">
        <div class="geToolbar" style="padding-left: 56px;">

        </div>
        <a href="javascript:void(0);" title="Format Panel (Ctrl+Shift+P)" class="geButton" style="position: absolute; display: inline-block; top: 5px; right: 26px; padding: 2px; font-size: 14px; width: 16px; height: 16px; background-position: 50% 50%; background-repeat: no-repeat; background-image: url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6ODdCREY5REY1NkQ3MTFFNTkyNjNEMTA5NjgwODUyRTgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6ODdCREY5RTA1NkQ3MTFFNTkyNjNEMTA5NjgwODUyRTgiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4N0JERjlERDU2RDcxMUU1OTI2M0QxMDk2ODA4NTJFOCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4N0JERjlERTU2RDcxMUU1OTI2M0QxMDk2ODA4NTJFOCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PlnMQ/8AAAAJUExURQAAAP///3FxcTfTiAsAAAACdFJOU/8A5bcwSgAAACFJREFUeNpiYEQDDEQJMMABTAAixcQ00ALoDiPRcwABBgB6DADly9Yx8wAAAABJRU5ErkJggg==&quot;);"></a>
        <a href="javascript:void(0);" title="Fullscreen" class="geButton" style="position: absolute; display: inline-block; top: 5px; right: 42px; padding: 2px; font-size: 14px; width: 16px; height: 16px; background-position: 50% 50%; background-repeat: no-repeat; background-image: url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAABlBMVEUAAAAAAAClZ7nPAAAAAXRSTlMAQObYZgAAABpJREFUCNdjgAAbGxAy4AEh5gNwBBGByoIBAIueBd12TUjqAAAAAElFTkSuQmCC&quot;);"></a>
        <a
            href="javascript:void(0);" title="Collapse/Expand" class="geButton" style="position: absolute; display: inline-block; width: 16px; height: 16px; color: rgb(102, 102, 102); top: 5px; right: 10px; padding: 2px; font-size: 14px; text-decoration: none; background-image: url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NDg2NEE3NUY1MUVBMTFFM0I3MUVEMTc0N0YyOUI4QzEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NDg2NEE3NjA1MUVBMTFFM0I3MUVEMTc0N0YyOUI4QzEiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo0ODY0QTc1RDUxRUExMUUzQjcxRUQxNzQ3RjI5QjhDMSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo0ODY0QTc1RTUxRUExMUUzQjcxRUQxNzQ3RjI5QjhDMSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pg+qUokAAAAMUExURQAAANnZ2b+/v////5bgre4AAAAEdFJOU////wBAKqn0AAAAL0lEQVR42mJgRgMMRAswMKAKMDDARBjg8lARBoR6KImkH0wTbygT6YaS4DmAAAMAYPkClOEDDD0AAAAASUVORK5CYII=&quot;); background-position: 50% 50%; background-repeat: no-repeat;"></a>
    </div>

    <div class="geSidebarContainer" style="position: absolute; overflow: hidden; border-width: 3px; left: 0px; width: 208px; height: 36px; bottom: 46px;"><a href="javascript:void(0);" class="geTitle" style="height: 100%; padding-top: 9px;">More Shapes...</a>
    </div>
    <div class="geSidebarContainer" style="right: 0px; z-index: 1; background-color: whitesmoke; overflow-x: hidden; overflow-y: auto; font-size: 12px; top: 95px; width: 240px; bottom: 46px;">
        <div style="white-space: nowrap; color: rgb(112, 112, 112); text-align: left; cursor: default;">
            <div style="border-width: 0px 0px 1px; border-style: solid; border-color: rgb(192, 192, 192); border-image: initial; text-align: center; font-weight: bold; overflow: hidden; display: inline-block; padding-top: 8px; height: 25px; width: 100%;">Diagram<img border="0" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJAQMAAADaX5RTAAAABlBMVEV7mr3///+wksspAAAAAnRSTlP/AOW3MEoAAAAdSURBVAgdY9jXwCDDwNDRwHCwgeExmASygSL7GgB12QiqNHZZIwAAAABJRU5ErkJggg=="
                    title="Hide" style="position: absolute; display: block; right: 0px; top: 8px; cursor: pointer; margin-top: 1px; margin-right: 17px; border: 1px solid transparent; padding: 1px; opacity: 0.5;"></div>
            <div
                style="padding: 12px 0px 12px 18px; border-bottom: 1px solid rgb(192, 192, 192);">
                <div style="padding: 0px 0px 6px; white-space: nowrap; overflow: hidden; width: 200px; font-weight: bold;">View</div>
                <div style="padding: 6px 0px 1px; white-space: nowrap; overflow: hidden; width: 200px; height: 18px;"><input type="checkbox" checked="" style="margin: 0px 6px 0px 0px;"><span>Grid</span><button class="geColorBtn"
                        style="position: absolute; margin-top: -4px; right: 20px; height: 22px;"><div style="width:36px;height:12px;margin:3px;border:1px solid black;background-color:#e0e0e0;"></div></button>
                    <input
                        style="position: absolute; text-align: right; width: 38px; margin-top: -2px; right: 84px;">
                        <div style="border-radius: 3px; border: 1px solid rgb(192, 192, 192); position: absolute; margin-top: -16px; right: 72px;">
                            <div class="geBtnUp" style="border-bottom: 1px solid rgb(192, 192, 192); position: relative; height: 8px; width: 10px;"></div>
                            <div class="geBtnDown" style="border: none; position: relative; height: 8px; width: 10px;"></div>
                        </div>
                </div>
                <div style="padding: 6px 0px 1px; white-space: nowrap; overflow: hidden; width: 200px; height: 18px;"><input type="checkbox" checked="" style="margin: 0px 6px 0px 0px;"><span>Guides</span></div>
                <div style="padding: 6px 0px 1px; white-space: nowrap; overflow: hidden; width: 200px; height: 18px;"><input type="checkbox" checked="" style="margin: 0px 6px 0px 0px;"><span>Page View</span></div>
                <div style="padding: 6px 0px 1px; white-space: nowrap; overflow: hidden; width: 200px; height: 18px;"><input type="checkbox" checked="" style="margin: 0px 6px 0px 0px;"><span>Background</span><button class="geColorBtn"
                        style="position: absolute; margin-top: -4px; right: 20px; height: 22px;"><div style="width:36px;height:12px;margin:3px;border:1px solid black;background-color:#ffffff;"></div></button>
                    <button
                        class="geColorBtn" style="position: absolute; margin-top: -4px; padding-bottom: 2px; height: 22px; right: 72px; width: 56px;">Image</button>
                </div>
        </div>
        <div style="padding: 12px 0px 12px 18px; border-bottom: 1px solid rgb(192, 192, 192);">
            <div style="padding: 0px 0px 6px; white-space: nowrap; overflow: hidden; width: 200px; font-weight: bold;">Options</div>
            <div style="padding: 6px 0px 1px; white-space: nowrap; overflow: hidden; width: 200px; height: 18px;"><input type="checkbox" checked="" style="margin: 0px 6px 0px 0px;"><span>Connection Arrows</span></div>
            <div style="padding: 6px 0px 1px; white-space: nowrap; overflow: hidden; width: 200px; height: 18px;"><input type="checkbox" checked="" style="margin: 0px 6px 0px 0px;"><span>Connection Points</span></div>
        </div>
        <div style="padding: 12px 0px 12px 18px; border-bottom: 1px solid rgb(192, 192, 192);">
            <div style="padding: 0px 0px 6px; white-space: nowrap; overflow: hidden; width: 200px; font-weight: bold;">Paper Size</div><select style="margin-bottom: 8px; width: 202px;"><option value="letter">US-Letter (8,5" x 11")</option><option value="legal">US-Legal (8,5" x 14")</option><option value="tabloid">US-Tabloid (279 mm x 432 mm)</option><option value="a0">A0 (841 mm x 1189 mm)</option><option value="a1">A1 (594 mm x 841 mm)</option><option value="a2">A2 (420 mm x 594 mm)</option><option value="a3">A3 (297 mm x 420 mm)</option><option value="a4">A4 (210 mm x 297 mm)</option><option value="a5">A5 (148 mm x 210 mm)</option><option value="a6">A6 (105 mm x 148 mm)</option><option value="a7">A7 (74 mm x 105 mm)</option><option value="custom">Custom</option></select><br>
            <div
                style="margin-left: 4px; width: 210px; height: 24px;"><input name="format-formatpanel" type="radio" value="portrait" checked="" style="margin-right: 6px;"><span style="max-width: 100px;">Portrait</span>
                <input
                    name="format-formatpanel" type="radio" value="landscape" style="margin-left: 10px; margin-right: 6px;"><span style="width: 100px;">Landscape</span></div>
        <div style="margin-left: 4px; width: 210px; height: 24px; display: none;"><input size="7" value="827" style="text-align: right;"> in x <input size="7" value="1169" style="text-align: right;">            in</div>
    </div>
    <div style="padding: 12px 0px 12px 18px; border-bottom: 1px solid rgb(192, 192, 192);"><button title="Edit Data (Ctrl+M)" style="width: 202px; margin-bottom: 2px;">Edit Data</button><br><button title="Clear Default Style (Ctrl+Shift+R)"
            style="width: 202px;">Clear Default Style</button></div>
    </div>
    </div>
    <div  class="geDiagramContainer geDiagramBackdrop" tabindex="0" style="right: 240px; left: 220px; top: 95px; bottom: 45px; touch-action: none; overflow: auto;"
        title="Space+Drag to pan">
       
        
        <div id="drawing"></div>

    </div>
    <div class="geHsplit" title="Collapse/Expand" style="width: 12px; touch-action: none; top: 95px; bottom: 46px; left: 208px;"></div>


    <!-- <script>

SVG.rounded = SVG.invent({
  // Define the type of element that should be created
  create: 'rect'

  // Specify from which existing class this shape inherits
, inherit: SVG.Shape

  // Add custom methods to invented shape
, extend: {
    // Create method to proportionally scale the rounded corners
    size: function(width, height) {
      return this.attr({
        width:  width
      , height: height
      , rx:     height / 5
      , ry:     height / 5
      })
    }
  }

  // Add method to parent elements
, construct: {
    // Create a rounded element
    rounded: function(width, height) {
      return this.put(new SVG.Rect).size(width, height)
    }

  }
});


     layui.use(["jquery"],function(){
         var $ = layui.jquery;

     
         //new dd(200,100);
//console.log(SVG.rounded);

         var draw = SVG('drawing').size(3000, 1000);//panZoom();

         var rounded =draw.rounded(100,100);

         rounded.draggable();
         rounded.select().resize();
          $.get("/static/demo_data/1.svg",{},function(e){
              console.log(e);
            //   draw.svg('<g id="shape2-2" v:mID="2" v:groupContext="shape" v:layerMember="0">'+
			// 	'<title>工作表.2</title>'+
			// 	'<v:userDefs>'+
			// 		'<v:ud v:nameU="SubType" v:val="VT0(0):26"/>'+
			// 		'<v:ud v:nameU="Form" v:val="VT0(1):5"/>'+
			// 	'</v:userDefs>'+
			// 	'<path d="M0 142.04 L1.18 139.2 L3.54 144.87 L5.91 139.2 L8.27 144.87 L10.63 139.2 L12.99 144.87 L14.17 142.04"'+
			// 			'class="st1"/>'+
			// '</g>');
           // console.log(e.childNodes[2].innerHTML);
            
            //draw.svg('<path d="M 320 397 L 330 387 L 330 397 L 340 387 L 340 397 L 350 387 L 350 397 M 320 342 C 321.16 338.86 324.16 336.78 327.5 336.78 C 330.84 336.78 333.84 338.86 335 342 C 336.16 345.14 339.16 347.22 342.5 347.22 C 345.84 347.22 348.84 345.14 350 342 M 320 367 L 320 357 L 335 357 L 335 377 L 350 377 L 350 367" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/>');
           // draw.svg('<ellipse cx="335" cy="367" rx="45" ry="45" fill="#ffffff" stroke="#000000" pointer-events="none"/>');
          });
        // draw.SVG();
    draw.select().resize();
    //draw.panZoom();
    // var rect = draw.rect(100, 100).attr({ fill: '#f06',mqtt:'$hz/iot/rt/0' })
    //     rect.draggable();
    //     rect.selectize().resize();


    //     rect.on('dragend',function(event){
    //         console.log(event);
    //     });


        $("#drawing").on("mouseup",function(e){
            console.log("mouseup event");
        })



        $(".draggable").on('click',function(item){
            console.log(item.currentTarget.innerHTML);
           var dd= draw.path("m231.40605,33.93906l-31.55731,-19.83467c-7.96201,-4.99944 -18.45334,-2.59321 -23.47023,5.37046l-12.43852,19.79766l60.37047,37.91735l12.44833,-19.78847c4.99785,-7.97315 2.61256,-18.47403 -5.35274,-23.46233l0,0zm-174.89552,176.37623l60.37376,37.91696l98.39922,-156.64365l-60.4025,-37.92686l-98.37049,156.65354zm-9.22208,48.17491l-1.33344,35.61475l31.5089,-16.66608l29.28072,-15.46014l-58.2445,-36.60284l-1.21167,33.11432l0,0z");
           dd.draggable();
           dd.selectize().resize();
        });
     });

     

       
    </script> -->

    <script type="text/javascript">
    (function(){
        var dd = layui.use(['layer'],function(e){

     });
     console.log(dd);
    })();
     

    
    </script>
</body>


</html>